<form [formGroup]="form" (ngSubmit)="onSubmit()" class="pastel-form">
  
  <!-- Nombre -->
  <div class="field">
    <label for="nombre">Nombre *</label>
    <input 
      pInputText 
      id="nombre" 
      formControlName="nombre"
      placeholder="Ej: Pastel de chocolate"
      [class.ng-invalid]="isFieldInvalid('nombre')"
    />
    @if (isFieldInvalid('nombre')) {
      <small class="error">{{ getErrorMessage('nombre') }}</small>
    }
  </div>

  <!-- Sabor -->
  <div class="field">
    <label for="sabor">Sabor *</label>
    <input 
      pInputText 
      id="sabor" 
      formControlName="sabor"
      placeholder="Ej: Chocolate, Vainilla, Fresa"
      [class.ng-invalid]="isFieldInvalid('sabor')"
    />
    @if (isFieldInvalid('sabor')) {
      <small class="error">{{ getErrorMessage('sabor') }}</small>
    }
  </div>

  <!-- Precio -->
  <div class="field">
    <label for="precio">Precio *</label>
    <p-inputNumber 
      inputId="precio"
      formControlName="precio"
      mode="currency"
      currency="USD"
      locale="en-US"
      [minFractionDigits]="2"
      [class.ng-invalid]="isFieldInvalid('precio')"
    />
    @if (isFieldInvalid('precio')) {
      <small class="error">{{ getErrorMessage('precio') }}</small>
    }
  </div>

  <!-- Stock -->
  <div class="field">
    <label for="stock">Stock *</label>
    <p-inputNumber 
      inputId="stock"
      formControlName="stock"
      [showButtons]="true"
      [min]="0"
      [class.ng-invalid]="isFieldInvalid('stock')"
    />
    @if (isFieldInvalid('stock')) {
      <small class="error">{{ getErrorMessage('stock') }}</small>
    }
  </div>

  <!-- Botones -->
  <div class="form-actions">
    <p-button 
      label="Cancelar" 
      icon="pi pi-times" 
      (onClick)="onCancel()"
      [text]="true"
      severity="secondary"
    />
    <p-button 
      [label]="isEditMode ? 'Actualizar' : 'Crear'" 
      icon="pi pi-check" 
      type="submit"
      [disabled]="form.invalid"
    />
  </div>

</form>
