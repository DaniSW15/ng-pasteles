<div class="register-container">
    <div class="register-card">
        <div class="register-header">
            <i class="pi pi-birthday-cake logo-icon"></i>
            <h1>Crear Cuenta</h1>
            <p>Regístrate para comenzar</p>
        </div>

        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
            <!-- Nombre -->
            <div class="field">
                <label for="nombre">Nombre completo</label>
                <input pInputText id="nombre" formControlName="nombre" placeholder="Juan Pérez"
                    [class.ng-invalid]="isFieldInvalid('nombre')" />
                @if (isFieldInvalid('nombre')) {
                <small class="error">{{ getErrorMessage('nombre') }}</small>
                }
            </div>

            <!-- Email -->
            <div class="field">
                <label for="email">Email</label>
                <input pInputText id="email" type="email" formControlName="email" placeholder="tu@email.com"
                    [class.ng-invalid]="isFieldInvalid('email')" />
                @if (isFieldInvalid('email')) {
                <small class="error">{{ getErrorMessage('email') }}</small>
                }
            </div>

            <!-- Password -->
            <div class="field">
                <label for="password">Contraseña</label>
                <p-password id="password" formControlName="password" placeholder="••••••••" [toggleMask]="true"
                    [feedback]="true" styleClass="w-full" [inputStyle]="{ width: '100%' }" />
                @if (isFieldInvalid('password')) {
                <small class="error">{{ getErrorMessage('password') }}</small>
                }
            </div>

            <!-- Confirm Password -->
            <div class="field">
                <label for="confirmPassword">Confirmar contraseña</label>
                <p-password id="confirmPassword" formControlName="confirmPassword" placeholder="••••••••"
                    [toggleMask]="true" [feedback]="false" styleClass="w-full" [inputStyle]="{ width: '100%' }" />
                @if (isFieldInvalid('confirmPassword')) {
                <small class="error">{{ getErrorMessage('confirmPassword') }}</small>
                }
            </div>

            <!-- Terms & Conditions -->
            <div class="field-checkbox">
                <p-checkbox inputId="acceptTerms" formControlName="acceptTerms" [binary]="true" />
                <label for="acceptTerms">
                    Acepto los <a href="#">términos y condiciones</a> y la <a href="#">política de privacidad</a>
                </label>
            </div>
            @if (isFieldInvalid('acceptTerms')) {
            <small class="error" style="display: block; margin-top: -1rem; margin-bottom: 1rem;">
                Debes aceptar los términos y condiciones
            </small>
            }

            <!-- Submit Button -->
            <p-button label="Crear Cuenta" icon="pi pi-user-plus" type="submit" [loading]="loading"
                [disabled]="registerForm.invalid" styleClass="w-full" />

            <!-- Login Link -->
            <div class="login-link">
                <span>¿Ya tienes cuenta?</span>
                <a routerLink="/auth/login">Inicia sesión aquí</a>
            </div>
        </form>
    </div>
</div>